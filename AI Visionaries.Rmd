---
title: "AI Visionaries"
author: "Val"
date: "2024-10-09"
output:
  html_document: default
  pdf_document: default
---
# Introduction and background #
Generative AI systems are known to perpetuate and exacerbate existing human biases and harms. Studies have confirmed the existence of a notable gender gap in the usage and exploration of Generative AI despite its significant advancements. Compared to women, men are more likely to experiment and adopt Generative AI tools; women remain underrepresented in this rapidly evolving field. This gender inequality has implications for both individual opportunities and societal progress.

# Research Questions #
1.	What factors contribute to the gender gap in generative AI usage? 
2. How do perceptions of generative AI differ between men and women? 
3. Does user trust in AI platforms impact their platform usage?

# Objective #
This Datathon aims to empower more women to utilize generative AI, bridge the gender gap, and raise awareness about the potential biases and harms associated with these systems. Our participation will help ensure that generative AI is developed and used in an inclusive, equitable, and beneficial way.

# Load Packages#
```{r}
## Install and load common packages and libraries ##
library(tidyverse)
library(lubridate)
library(dplyr)
library(ggplot2)
library(tidyr)
library(readr)
library(caret)
library(glmnet)
library(tm)
library(wordcloud)
library(RColorBrewer)
```
# Import Datasets #
```{r}
library(readxl)
Data <- read_excel("C:/Users/Valery/Desktop/Data.xlsx")
View(Data)
```
# Explore a few key tables #
```{r}
## Take a look at the data ##
head(Data)
```
```{r}
ls(Data)

```
#Is there a significant association between AI usage and gender?
```{r}
contingency_table <- table(Data$ AI_usage
,Data$Gender)
contingency_table
chisq.test(contingency_table)
```
# What factors contribute to the gender gap in generative AI usage? #
```{r}
 data <- Data %>%
 mutate(
    Education_recoded = case_when(
      Education == "Associate's degree" ~ 0,
      Education == "Bachelor's degree" ~ 1,
      Education == "High school diploma or equivalent" ~ 2,
      Education == "Master's degree" ~ 3,
      Education == "Some college or technical school" ~ 4,
      TRUE ~ NA
    ),
    Age_recoded = case_when(
      Age == "18-24" ~ 0,
      Age == "25-34" ~ 1,
      Age == "35-44" ~ 2,
      Age == "45-54" ~ 3,
      TRUE ~ NA
    ),
    Platform_recoded = case_when(
      Platform == "Chat GPT (Open AI)" ~ 0,
      Platform == "Gemini (Google)" ~ 1,
      Platform == "Jasper AI (Google)" ~ 2,
      Platform == "LaMDA (Google)" ~ 3,
      TRUE ~ NA
    ),
    AI_usage_recoded = case_when(
      AI_usage == "Yes" ~ 0,
      AI_usage == "No" ~ 1,
      TRUE ~ NA
    )
  )

```
# Split data into training and testing sets #
```{r}
set.seed(123)
index <- createDataPartition(Data$AI_usage, p = 0.75, list = FALSE)
train_data <- Data[index,]
test_data <- Data[-index,]
```
# Build logistic regression model #
```{r}
model <- glm(AI_usage_recoded ~ Age_recoded + Education_recoded + Platform_recoded + Accuracy + Quality,
             data = data, family = binomial(link = "logit"))
summary(model)$coefficients
```
# Bar chart of the comparison between bias in AI usage and gender #
```{r}
ggplot(data, aes(x = Gender, fill = Bias)) + geom_bar(position = "dodge") + labs(title = "Gender and bias in the platform's output", x = "Gender", y = "Count") + scale_fill_discrete(labels = c("No", "Yes"))
```

# Is  perception of  bias in AI usage independent of gender? #
```{r}
contingency_table <- table(data$Gender,data$Bias)
contingency_table
chisq.test(contingency_table)
```
# Is  perception of the existence of harmful or misleading content generated by the platform independent of gender? #
```{r}
ggplot(data, aes(x = Gender, fill = Harmful_content)) +
  geom_bar(position = "dodge") +
  labs(title = "Gender and existence of harmful or misleading content generated by the platform",
       x = "Gender",
       y = "Count") +
  scale_fill_manual(values = c("#e6550d", "#fdbb84"), labels = c("No", "Yes"))
```


```{r}
contingency_table <- table(data$Gender,data$Harmful_content)
contingency_table
chisq.test(contingency_table)
```
# Is  perception of the safety of personal information when using the platform independent of gender? #
```{r}
contingency_table <- table(data$Gender,data$Security)
contingency_table
chisq.test(contingency_table)
```


```{r}
ggplot(data, aes(x = Gender, fill = Security)) +
  geom_bar(position = "dodge") +
  labs(title = "Gender and safety of personal information when using the platform",
       x = "Gender",
       y = "Count") +
  scale_fill_manual(values = c("#c51b8a", "#fa9fb5"), labels = c("No", "Yes"))
```
# Analyze open-ended responses to identify recurring themes and keywords related to stereotypes and biases #
## wordcloud for Harmful content ##

```{r}
# Remove rows with NA in 'Harmful_content_type'
clean_data <- data %>%
  filter(!is.na(Harmful_content_type))

#  Create a text corpus from the 'Harmful_content_type' column
corpus <- Corpus(VectorSource(clean_data$Harmful_content_type))

#  Create a term-document matrix
tdm <- TermDocumentMatrix(corpus)
m <- as.matrix(tdm)

#  Get word frequencies
word_freqs <- sort(rowSums(m), decreasing = TRUE)
word_freq_df <- data.frame(word = names(word_freqs), freq = word_freqs)

#  Print the word frequencies
print(word_freq_df)

# Create a word cloud and display the frequencies
wordcloud(words = word_freq_df$word, freq = word_freq_df$freq, 
          scale = c(3, 0.5), random.order = FALSE, 
          colors = brewer.pal(8, "Dark2"))
```
## wordcloud for Bias##

```{r}
# Remove rows with NA in 'Harmful_content_type'
clean_data <- data %>%
  filter(!is.na(Bias_category))

#  Create a text corpus from the 'Harmful_content_type' column
corpus <- Corpus(VectorSource(clean_data$Bias_category))

#  Create a term-document matrix
tdm <- TermDocumentMatrix(corpus)
m <- as.matrix(tdm)

#  Get word frequencies
word_freqs <- sort(rowSums(m), decreasing = TRUE)
word_freq_df <- data.frame(word = names(word_freqs), freq = word_freqs)

#  Print the word frequencies
print(word_freq_df)

# Create a word cloud and display the frequencies
wordcloud(words = word_freq_df$word, freq = word_freq_df$freq, 
          scale = c(3, 0.5), random.order = FALSE, 
          colors = brewer.pal(8, "Dark2"))
```


```{r}
